{% include 'header.html' %}

<link href="{{ url_for('static', filename='form.css') }}" rel="stylesheet" type="text/css" />
<link href="{{ url_for('static', filename='carousel.css') }}" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="{{ url_for('static', filename='popper.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='bootstrap.min.js') }}"></script>

<title>{{ species }} - {{ animal.name }}</title>
<h1>{{ animal.name }}</h1>

<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" data-interval="false">
  <ol class="carousel-indicators">
    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
  </ol>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img class="d-block w-100" src="{{ url_for('images', filename='dog1.jpg')}}">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="{{ url_for('images', filename='dog2.jpg')}}">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="{{ url_for('images', filename='dog3.jpg')}}">
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

<script>

  $('.carousel').carousel()

</script>

<form class="form-style" action={{species}}+"s" method="post">
  <fieldset>
    <input name="id" type="hidden" value={{ animal.id }}>
    <legend>Identité</legend>
    <label for="name">Nom</label>
    <input name="name" type="text" value={{ animal.name }}>
    <label for="bdate">Date de naissance</label>
    <input name="bdate" type="date" value={{ animal.birth_date.isoformat() }}></br>
    <label for="adate">Date d'arrivée</label>
    <input name="adate" type="date" value={{ animal.arrival_date.isoformat() }}></br>
    <label for="gender">Sexe</label>
    <select name="gender">
      <option value="1" {% if animal.gender == 1 %} selected {% endif %}>Femelle</option>
      <option value="2" {% if animal.gender == 2 %} selected {% endif %}>Male</option>
      <option value="0" {% if animal.gender == 0 %} selected {% endif %}>Non connu</option>
    </select></br>
    <label for="implant">Nº ICAD</label>
    <input type="text" name="implant" value={{ animal.implant }}>
  </fieldset>
  <fieldset>
    <legend>Caractéristiques</legend>
    <label for="breed">Race</label>
    <input type="text" name="breed" value={{ animal.breed }}><br>
    <label for="color">Couleur</label>
    <input type="text" name="color" value={{ animal.color }}><br>

    {% if species == "dog" %}
    <label for="ok_cats">OK Chats</label>
    <input name="ok_cats" type="checkbox" value="1"
	   {% if animal.ok_cats == 1 %} checked {% endif %}/><br>
    {% endif %}

    <label for="char">Caractère</label>
    <textarea name="char">{{ animal.character }}</textarea><br>
    <label for="history">Historique</label>
    <textarea name="history">{{ animal.history }}</textarea><br>
  </fieldset>
  <fieldset>
    <legend>Santé</legend>
    <label for="neutered">Stérilisé</label>
    <input name="neutered" type="checkbox" value="1"
	   {% if animal.neutered == 1 %} checked {% endif %}/><br>
    {% if species == "cat" %}
    <label for="fiv">FiV</label>
    <input name="fiv" type="checkbox" value="1"
	   {% if animal.has_fiv == 1 %} checked {% endif %}/><br>
    <label for="felv">FelV</label>
    <input name="felv" type="checkbox" value="1"
	   {% if animal.has_felv == 1 %} checked {% endif %}/><br>
    {% endif %}

  </fieldset>

  <input class="submit" type="submit" value="Valider"><br>

</form>
